#数字图像处理

---
## 一、基本灰度变换
### 1 图像反转
$s = L - 1 - r$
其中r为输入灰度，s为输出灰度

---
### 2 对数变换
$s = c\quad log(1+r)$
其中c为常数，并假设r>0。对数变换的作用是使一个窄带低灰度输入值变为一个宽带输出值。
可以用来**扩展被压缩的高值图像中的暗像素**。对数变换能很大程度上**压缩了图像像素值的动态范围**。

---
### 3 幂次变换
$s = cr^{\gamma}$
其中c和$\gamma$为正常数。
若考虑输入为0时的可测量输出，表达式写为$s = c(r+\varepsilon)^{\gamma}$
习惯上将幂次等式中的指数指伽马值。用于修正幂次响应现象的过程称作伽马校正。如果涉及在计算机屏幕上精确显示图像，伽马校正是很重要的，不恰当的图像修正会被漂白或者变得更暗。伽马校正值不仅可以改变亮度，还可以改变红绿蓝的比率。
$\gamma < 1$时可以**冲淡**图像，$\gamma > 1$时可以**压缩灰度级**从而恢复被冲淡的图像。

---
### 4 分段线性变换函数
相比于前面几种变换

|优点|缺点|
|--|--|
|形式可以任意合成|需要更多的用户输入|
#### 对比拉伸
对比拉伸的思想是**提高图像处理时灰度级的动态范围**，以解决图像由光照不足、成像传感器动态范围太小、甚至在图像获取过程中透镜光圈设置错误引起的问题。

#### TODO page67待记
```cpp
//TODO
```

---
## 二、直方图处理
#### 1 直方图均衡化
一副图像中灰度级$r_k$出现的概率近似为：
$$
p_{r}(r_{k}) = {{n_{k}}\over {n}}\quad k = 0,1,2,3,...,L-1
$$
其中n是图像中的像素总和，$n_k$是灰度级为$r_k$的像素个数，L为图像中的可能的灰度级总数。该函数的离散形式为：
$$
\begin{align}
s_k
&={T(r_k)} = \displaystyle \sum_{j = 0}^{k}p_{r}(r_j) \\
&=\displaystyle \sum_{j = 0}^{k}{n_j \over n} \quad k = 0,1,2,...,L-1
\end{align}
$$
上式给出的变换称作直方图均衡化或直方图线性化。直方图均衡化过的图像灰度值能跨越更大的范围。

---
#### 2 直方图匹配（规定化）